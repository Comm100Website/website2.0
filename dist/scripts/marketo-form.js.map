{"version":3,"sources":["../assets/scripts/marketo-form.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"marketo-form.js","sourcesContent":["/* jshint ignore:start */\n(function (){\n    // Please include the email domains you would like to block in this list\n    var invalidDomains = [\"@skynet.\", \"@interfree.\", \"@valyoo.\", \"@myself.\", \"@cheerful.\", \"@terra.\",\n    \"@sify.\", \"@blumail.\", \"@rediffmail.\", \"@googlemail.\", \"@email.com\", \"@ireland.\", \"@colombia.\",\n    \"@mac.\", \"@ymail.\", \"@uol.\", \"@ig.\", \"@bol.\", \"@sapo.\", \"@alice.\", \"@me.\", \"@yeah.\", \"@139.\",\n    \"@qq.\", \"@126.\", \"@sohu.\", \"@163.\", \"@sina.\", \"@aol.\", \"@mail.\", \"@care2.\", \"@mywyamial.\",\n    \"@hotpop.\", \"@myspace.\", \"@zapak.\", \"@lavabit.\", \"@bigstring.\", \"@live.\", \"@hotmail.\",\n    \"@fastmail.\", \"@inbox.\", \"@gawab.\", \"@zenbe.\", \"@yahoo.\", \"@gmx.\", \"@aim.\", \"@gmail.\",\n    \"@ssinfosysinc.com\", \"@icloud.\", \"@romandie.com\", \"@bellsouth.net\", \"@wans.net,\", \"@verizon.net\",\n    \"@swbell.net\", \"@kimo.com\", \"@geocities.com\", \"@flash.net\", \"@btopenworld.com\", \"@btinternet.com\",\n    \"@bellsouth.net\", \"@talk21.com\", \"@yahooxtra.co.nz\", \"@y7mail.com\", \"@wans.net,\", \"@ameritech.net,\",\n    \"@bell.ca\", \"@sympatico.ca\", \"@windowslive.es\", \"@hotmail.ca\", \"@tuitionjobsportal.com\", \"@yhg.biz\",\n    \"@posteo.net\", \"@yandex.\", \"@yopmail.\", \"@outlook\", \"@centurylink.net\", \"@mtnl.net.in\", \"@dudumail.\",\n    \"@facebook.com\", \"@breakthru.com\", \"@cox.net\", \"@q.com\", \"@takdhinadin.\", \"@dvaar.\", \"@indiawrites\", \"@tadka\",\n    \"@india.\", \"@imail.\", \"@timepass.\", \"@zmail.\", \"@cytanet.com.cy\", \"@yahoo.co.uk\", \"@safe-mail.net\",\n    \"@mailcatch.com\", \"@virgilio.it\", \"@a1.perwebsolutions.in\", \"@mailcatch.com\", \"@spiceweb.net\", \"@comcast.net\",\n    \"@rediff.com\", \"@rocketmail\", \"@yopmail.com\", \"@insightbb\", \"@katamail.com\", \"@att.net\", \"@inwind.it\",\n    \"@xtra.co.nz\", \"secretary.net\", \"salesperson.net\", \"rescueteam.com\", \"representative.com\", \"repairman.com\",\n    \"registerednurses.com\", \"realtyagent.com\", \"radiologist.net\", \"qualityservice.com\", \"publicist.com\", \"programmer.net\",\n    \"priest.com\", \"presidency.com\", \"politician.com\", \"planetmail.net\", \"planetmail.com\", \"physicist.net\", \"photographer.net\",\n    \"pediatrician.com\", \"orthodontist.net\", \"optician.com\", \"net-shopping.com\", \"musician.org\", \"minister.com\", \"lobbyist.com\",\n    \"legislator.com\", \"journalist.com\", \"job4u.com\", \"insurer.com\", \"instructor.net\", \"instruction.com\", \"hot-shot.com\",\n    \"homemail.com\", \"hairdresser.net\", \"groupmail.com\", \"graphic-designer.com\", \"graduate.org\", \"geologist.com\", \"gardener.com\",\n    \"fireman.net\", \"financier.com\", \"fastservice.com\", \"execs.com\", \"doctor.com\", \"disposable.com\", \"diplomats.com\",\n    \"deliveryman.com\", \"cyberservices.com\", \"counsellor.com\", \"coolsite.net\", \"computer4u.com\", \"comic.com\", \"columnist.com\",\n    \"collector.org\", \"clubmember.org\", \"clerk.com\", \"chemist.com\", \"chef.net\", \"cash4u.com\", \"brew-meister.com\", \"birdlover.com\",\n    \"bikerider.com\", \"bartender.net\", \"auctioneer.net\", \"artlover.com\", \"arcticmail.com\", \"archaeologist.com\", \"appraiser.net\",\n    \"angelic.com\", \"alumnidirector.com\", \"alumni.com\", \"allergist.com\", \"adexec.com\", \"activist.com\", \"contractor.net\", \"uymail.com\",\n    \"@hotmail.bs\", \"@hotmail.at\", \"@hotmail.co.uk\", \"@coldmail.nu\", \"@hushmail.com\", \"@getemail.co.za\", \"@garcesrealestate.com\",\n    \"hush.ai\", \"aircraftmail.com\", \"2trom.com\", \"@frontier.\", \"@charter\", \"@aesinc.us.com\", \"@zing.vn\", \"@shaw.\", \"@21cn.\",\n    \"@china.\", \"@vip.163.\", \"@libero.it\", \"@nadlanu.\", \"@tiscali.\", \"@scoremusic.\", \"@MAIL.RU\", \"@nadlanu.\", \"@cbn.\", \"@netvigator.\",\n    \"@vip.126.\", \"@vip.sina.\", \"@ctimail.\", \"@canada.\", \"@usa.\", \"@tom.\", \"@zoho\", \"@263.\", \"@in.\", \"@sbcglobal.\", \"@msn.\",\n    \"@telus.\", \"saintly.com\", \"religious.com\", \"reincarnate.com\", \"protestant.com\", \"muslim.com\", \"innocent.com\", \"disciples.com\",\n    \"torontomail.com\", \"swissmail.com\", \"swedenmail.com\", \"spainmail.com\", \"scotlandmail.com\", \"samerica.com\", \"safrica.com\",\n    \"polandmail.com\", \"munich.com\", \"moscowmail.com\", \"mexicomail.com\", \"koreamail.com\", \"italymail.com\", \"israelmail.com\",\n    \"irelandmail.com\", \"germanymail.com\", \"europemail.com\", \"englandmail.com\", \"dutchmail.com\", \"dublin.com\", \"chinamail.com\",\n    \"brazilmail.com\", \"berlin.com\", \"australiamail.com\", \"asia-mail.com\", \"africamail.com\", \"sanfranmail.com\", \"pacificwest.com\",\n    \"pacific-ocean.com\", \"nycmail.com\", \"dallasmail.com\", \"californiamail.com\", \"bellair.net\", \"reggaefan.com\", \"reborn.com\",\n    \"ravemail.com\", \"oath.com\", \"ninfan.com\", \"metalfan.com\", \"madonnafan.com\", \"kissfans.com\", \"hiphopfan.com\", \"elvisfan.com\",\n    \"discofan.com\", \"acdcfan.com\", \"rocketship.com\", \"null.net\", \"mail-me.com\", \"inorbit.com\", \"humanoid.net\", \"housemail.com\",\n    \"cyber-wizard.com\", \"cybergal.com\", \"cyberdude.com\", \"toke.com\", \"snakebite.com\", \"petlover.com\", \"nonpartisan.com\",\n    \"marchmail.com\", \"lovecat.com\", \"kittymail.com\", \"keromail.com\", \"hilarious.com\", \"hackermail.com\", \"greenmail.net\",\n    \"galaxyhit.com\", \"doramail.com\", \"doglover.com\", \"dbzmail.com\", \"cutey.com\", \"catlover.com\", \"bsdmail.com\", \"brew-master.com\",\n    \"boardermail.com\", \"blader.com\", \"atheist.com\", \"linuxmail.org\", \"techie.com\", \"accountant.com\", \"cheerful.com\",\n    \"engineer.com\", \"dr.com\", \"writeme.com\", \"iname.com\", \"asia.com\", \"europe.com\", \"post.com\", \"consultant.com\", \"myself.com\",\n    \"email.com\", \"mail.com\", \"@prodigy.net.mx\", \"@optusnet\", \"@myway.\", \"workmail.com\", \"worker.com\", \"webname.com\", \"umpire.com\",\n    \"tvstar.com\", \"toothfairy.com\", \"therapist.net\", \"theplate.com\", \"technologist.com\", \"tech-center.com\", \"teachers.org\",\n    \"surgical.net\", \"songwriter.net\", \"solution4u.com\", \"sociologist.com\", \"socialworker.net\", \"@outlook.\"];\n\n    MktoForms2.whenReady(function (form){\n        //map your results from REST call to the corresponding field name on the form\n        GetFieldsAndValuesToPrefill(form);\n\n        SetConsentVisibility();\n\n        document.body.addEventListener('db-audiences-set', function() {\n            SetConsentVisibility();\n        });\n\n        document.onreadystatechange = function () {\n            if (document.readyState == \"complete\") {\n                SetConsentVisibility();\n            }\n        }\n\n        form.onValidate(function(isValid){\n            if (!isValid) {\n                return;\n            }\n            var formtype = form.vals().formtype;\n            var email = form.vals().Email;\n            var partner_Email__c = form.vals().Partner_Email__c;\n            var requestUrl = '';\n            switch (formtype) {\n                case undefined:\n                case 'partner':\n                case 'contact':\n                    requestUrl = window.location.href;\n                    break;\n                case 'requestdemo':\n                    requestUrl = document.referrer;\n                    break;\n                default: break;\n            }\n            if(email){\n                if (typeof(formtype) !== 'undefined' && formtype !== 'contact' && !isEmailGood(email)) {\n                    form.submitable(false);\n                    var emailElem = form.getFormElem().find(\"#Email\");\n                    form.showErrorMessage(\"Must be Business email.\", emailElem);\n                    return;\n                }\n\n                if (typeof(partner_Email__c) !== 'undefined') {\n                    if (typeof(formtype) !== 'undefined' && formtype !== 'contact' && !isEmailGood(partner_Email__c)) {\n                        form.submitable(false);\n                        var emailElem = form.getFormElem().find(\"#Partner_Email__c\");\n                        form.showErrorMessage(\"Must be Business email.\", emailElem);\n                        return;\n                    }\n                }\n\n                jQuery(\"input[name='Request_URL__c']\")[0].value = requestUrl;\n                AddFieldsAndVaulesStringToCookie(form);\n                form.submitable(true);\n                if (navigator.userAgent.indexOf('MSIE') >= 0 || navigator.userAgent.indexOf('Trident/') >= 0) {\n                    return;\n                }\n                if(jQuery(\"#downloadlink\").length > 0) {\n                    jQuery(\"#downloadlink\")[0].click();\n                }\n\n            }\n        });\n    });\n    function isEmailGood(email) {\n        for(var i=0; i < invalidDomains.length; i++) {\n            var domain = invalidDomains[i];\n            if (email.indexOf(domain) != -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n})();\n\nfunction SetConsentVisibility() {\n    var userExcluded = false;\n    var excludedCountries = ['at', 'be', 'bg', 'hr', 'ca', 'cy', 'cz', 'dk', 'ee', 'fi', 'fr', 'de', 'gr', 'hu', 'ie', 'it', 'lv', 'lt', 'lu', 'mt', 'nl', 'pl', 'pt', 'ro', 'sk', 'si', 'es', 'se', 'gb'];\n\n    for (var i = 0; i < excludedCountries.length; i++) {\n        if (document.body.classList.contains('db-audience-' + excludedCountries[i])) {\n            userExcluded = true;\n            break;\n        }\n    }\n\n    if (userExcluded) {\n        var consentNotices = document.querySelectorAll('#implied_consent_notice, .implied_consent_notice');\n\n        if (consentNotices.length) {\n            // console.log(consentNotices);\n            consentNotices.forEach(function(consentNotice, index) {\n                consentNotice.style.display = 'none';\n            });\n        }\n    }\n\n    var consentCheckboxes = document.querySelectorAll('#Explicit_Consent__c');\n    consentCheckboxes.forEach(function(consentCheckbox, index) {\n        if (userExcluded) {\n            consentCheckbox.parentNode.parentNode.parentNode.parentNode.classList.add('single-checkbox');\n            consentCheckbox.parentNode.parentNode.parentNode.parentNode.style.display = 'block';\n        } else {\n            consentCheckbox.parentNode.parentNode.parentNode.parentNode.style.display = 'none';\n        }\n    });\n}\n\nfunction AddFieldsAndVaulesStringToCookie(form) {\n    var fieldsAndValues = {\n        Email: form.vals().Email,\n        FirstName: form.vals().FirstName,\n        LastName: form.vals().LastName,\n        Company: form.vals().Company,\n        Phone: form.vals().Phone,\n        Job_Role__c: form.vals().Job_Role__c,\n        No_of_Live_Chat_Agents__c: form.vals().No_of_Live_Chat_Agents__c,\n        Comment__c: form.vals().Comment__c\n    };\n    WriteCookies(\"_comm100_mkto_fvs\", JSON.stringify(fieldsAndValues), 30);\n}\n\nfunction GetFieldsAndValuesToPrefill(form) {\n    var read = GetCookie(\"_comm100_mkto_fvs\");\n    if (read != null) {\n        var prefillFields = JSON.parse(read);\n        form.vals(prefillFields);\n    }\n}\nfunction WriteCookies(Key, Value, expire) {\n    var ep = \"\";\n    if (expire != null) {\n        ep = new Date((new Date()).getTime() + expire * 24 * 3600 * 1000);\n    }\n    else {\n        ep = new Date((new Date()).getTime() + 365 * 24 * 3600 * 1000);\n    }\n    ep = \";path=/;expires=\" + ep.toGMTString();\n    document.cookie = Key + \"=\" + Value + ep;\n}\nfunction IfCookieExists(key) {\n    var result = null;\n    var myCookie = document.cookie + \";\";\n    var startOfCookie = myCookie.indexOf(key);\n    if (startOfCookie != -1) {\n        return true;\n    }\n    return false;\n}\nfunction GetCookie(key) {\n    var result = null;\n    var myCookie = document.cookie + \";\";\n    var startOfCookie = myCookie.indexOf(key);\n    var endOfCookie;\n    if (startOfCookie != -1) {\n        startOfCookie += key.length;\n        endOfCookie = myCookie.indexOf(\";\", startOfCookie);\n        result = unescape(myCookie.substring(startOfCookie + 1, endOfCookie));\n    }\n    return result;\n}\n/* jshint ignore:end */\n"],"sourceRoot":"assets/scripts/"}